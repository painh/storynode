/* Unreal Engine 5 Blueprint 스타일 테마 */

:root {
  /* 배경색 */
  --bg-canvas: #1a1a1a;
  --bg-primary: #242424;
  --bg-secondary: #2a2a2a;
  --bg-tertiary: #333333;
  --bg-hover: #3a3a3a;

  /* 그리드 */
  --grid-color: #252525;
  --grid-accent: #2f2f2f;

  /* 노드 색상 */
  --node-dialogue: #4A6FA5;
  --node-choice: #8B4A6B;
  --node-battle: #C62828;
  --node-shop: #2E7D32;
  --node-event: #F9A825;
  --node-chapter-end: #37474F;

  /* 핀/연결 */
  --pin-exec: #FFFFFF;
  --pin-data: #00BCD4;
  --edge-default: #FFFFFF;
  --edge-selected: #FFB74D;

  /* 선택/강조 */
  --selection-glow: rgba(255, 183, 77, 0.5);
  --selection-border: #FFB74D;
  --selection-bg: rgba(255, 183, 77, 0.15);

  /* 텍스트 */
  --text-primary: #FFFFFF;
  --text-secondary: #AAAAAA;
  --text-muted: #666666;
  --text-accent: #FFB74D;

  /* 보더 */
  --border-default: #404040;
  --border-light: #505050;

  /* 패널 */
  --panel-width-left: 260px;
  --panel-width-right: 320px;
  --header-height: 48px;

  /* 폰트 */
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  font-size: 13px;
  line-height: 1.4;
  color: var(--text-primary);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body, #root {
  width: 100%;
  height: 100%;
  overflow: hidden;
  background: var(--bg-primary);
  /* 웹뷰 기본 컨텍스트 메뉴 비활성화 */
  -webkit-user-select: none;
  user-select: none;
}

/* 입력 필드는 텍스트 선택 허용 */
input, textarea {
  -webkit-user-select: text;
  user-select: text;
}

/* 스크롤바 스타일 */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--bg-secondary);
}

::-webkit-scrollbar-thumb {
  background: var(--border-light);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--text-muted);
}

/* 선택 방지 */
.no-select {
  user-select: none;
  -webkit-user-select: none;
}

/* 버튼 기본 스타일 */
button {
  font-family: inherit;
  font-size: inherit;
  cursor: pointer;
  border: none;
  background: none;
  color: inherit;
}

/* 입력 필드 기본 스타일 */
input, textarea, select {
  font-family: inherit;
  font-size: inherit;
  background: var(--bg-tertiary);
  border: 1px solid var(--border-default);
  color: var(--text-primary);
  padding: 6px 10px;
  border-radius: 4px;
  outline: none;
  transition: border-color 0.15s;
}

input:focus, textarea:focus, select:focus {
  border-color: var(--selection-border);
}

input::placeholder, textarea::placeholder {
  color: var(--text-muted);
}

/* React Flow 스타일 오버라이드 */
.react-flow {
  background: var(--bg-canvas) !important;
}

.react-flow__background {
  background-color: var(--bg-canvas) !important;
}

.react-flow__background-pattern {
  stroke: var(--grid-color) !important;
}

.react-flow__minimap {
  background: var(--bg-secondary) !important;
  border: 1px solid var(--border-default) !important;
  border-radius: 4px;
}

.react-flow__controls {
  border: 1px solid var(--border-default) !important;
  border-radius: 4px;
  overflow: hidden;
}

.react-flow__controls-button {
  background: var(--bg-secondary) !important;
  border-bottom: 1px solid var(--border-default) !important;
  fill: var(--text-secondary) !important;
}

.react-flow__controls-button:hover {
  background: var(--bg-hover) !important;
  fill: var(--text-primary) !important;
}

/* 연결선 스타일 */
.react-flow__edge-path {
  stroke: var(--edge-default);
  stroke-width: 2;
}

.react-flow__edge.selected .react-flow__edge-path {
  stroke: var(--edge-selected);
  stroke-width: 2.5;
}

.react-flow__connection-line {
  stroke: var(--edge-selected) !important;
  stroke-width: 2 !important;
}
